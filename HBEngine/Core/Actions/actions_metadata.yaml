#
# This file is used to define the data requirements for each action specified within the 'actions.py' module, along with
# how to interact and edit this data within the Heartbeat Editor. The data here is often referred to as 'action_data'

# Key Index
#   - 'global' allows the parameter to access a shared, global value that applies across all instances of that action. This
#      global value can be ignored per-instance if the action has a value specified
#   - [Editor Only] 'value' is used to store the latest updated value independently of the default
#   - [Editor Only] 'default' contains the unedited value when loaded from this file. It's kept separate in order to allow resetting of 'value'
#   - [Editor Only] 'editable' controls whether a parameter can be changed by the user either in the editor, or via editing the file manually.
#   - [Editor Only] 'type' controls how that parameter is displayed in the editor (IE. Dropdown vs text box)
#   - [Editor Only] 'preview' controls whether certain editors can show the value of the parameter in additional areas of the interface
#   - [Editor Only] 'no_exclusion' controls whether to remove editor-specific property exclusions for a property and its children. This
#     is necessary when editors such as PointAndClick have blanket exclusions for properties such as 'post_wait', and you
#     you need it available for a particular action


# Renderables

create_sprite:
  display_name: "Create Sprite"
  requirements:
    key:
      type: "String"
      value: ""
      default: ""
      flags: ["editable", "preview"]

    sprite:
      type: "Asset_Image"
      value: "HBEngine/Content/Sprites/Placeholder.png"
      default: "HBEngine/Content/Sprites/Placeholder.png"
      flags: ["editable", "preview"]

    position:
      type: "Vector2"
      value: [ 0.5, 0.5 ]
      default: [ 0.5, 0.5 ]
      flags: ["editable", "preview"]

    center_align:
      type: "Bool"
      value: True
      default: True
      flags: ["editable", "preview"]

    z_order:
      type: "Int"
      value: 0
      default: 0
      flags: ["editable", "preview"]

    flip:
      type: "Bool"
      value: False
      default: False
      flags: ["editable"]

    transition:
      type: "Container"
      flags: ["preview"]
      children:
        type:
          type: "Dropdown"
          value: "None"
          default: "None"
          options:
            - "None"
            - "fade_in"
          flags: ["editable", "preview"]

        speed:
          type: "Int"
          value: 500
          default: 500
          flags: ["editable", "preview"]

    post_wait:
      type: "Dropdown"
      value: "wait_for_input"
      default: "wait_for_input"
      options:
        - "no_wait"
        - "wait_for_input"
        - "wait_until_complete"
      flags: ["editable", "preview"]

create_background:
  display_name: "Create Background"
  requirements:
    key:
      type: "String"
      value: "Background"
      default: "Background"

    sprite:
      type: "Asset_Image"
      value: "HBEngine/Content/Sprites/Placeholder.png"
      default: "HBEngine/Content/Sprites/Placeholder.png"
      flags: ["editable", "preview"]

    position:
      type: "Vector2"
      value: [ 0,0 ]
      default: [ 0,0 ]

    center_align:
      type: "Bool"
      value: False
      default: False

    z_order:
      type: "Int"
      value: -9999
      default: -9999

    flip:
      type: "Bool"
      value: False
      default: False
      flags: ["editable"]

    post_wait:
      type: "Dropdown"
      value: "no_wait"
      default: "no_wait"
      options:
        - "no_wait"
        - "wait_for_input"
        - "wait_until_complete"
      flags: ["editable", "preview"]

create_text:
  display_name: "Create Text"
  requirements:
    key:
      type: "String"
      value: ""
      default: ""
      flags: ["editable", "preview"]

    position:
      type: "Vector2"
      value: [0.5,0.5]
      default: [0.5,0.5]
      flags: ["editable", "preview"]

    center_align:
      type: "Bool"
      value: True
      default: True
      global: ["Text", "center_align"]
      flags: ["editable"]

    text:
      type: "Paragraph"
      value: "Default"
      default: "Default"
      flags: ["editable", "preview"]

    text_size:
      type: "Int"
      value: 24
      default: 24
      global: ["Text", "size"]
      flags: ["editable", "preview"]

    text_color:
      type: "Color"
      value: [255, 255, 255]
      default: [255, 255, 255]
      global: ["Text", "color"]
      flags: ["editable", "preview"]

    font:
      type: "Asset_Font"
      value: "None"
      default: "None"
      global: ["Text", "font"]
      flags: ["editable"]

    z_order:
      type: "Int"
      value: 0
      default: 0
      global: ["Text", "z_order"]
      flags: ["editable", "preview"]

    wrap_bounds:
      type: "Vector2"
      value: [0.2,0.2]
      default: [0.2,0.2]
      global: ["Text", "wrap_bounds"]
      flags: ["editable"]

    transition:
      type: "Container"
      flags: ["preview"]
      children:
        type:
          type: "Dropdown"
          value: "None"
          default: "None"
          options:
            - "None"
            - "fade_in"
          flags: ["editable", "preview"]

        speed:
          type: "Int"
          value: 500
          default: 500
          flags: ["editable", "preview"]

    post_wait:
      type: "Dropdown"
      value: "wait_for_input"
      default: "wait_for_input"
      options:
        - "no_wait"
        - "wait_for_input"
        - "wait_until_complete"
      flags: ["editable", "preview"]

remove_renderable:
  display_name: "Remove Renderable"
  requirements:
    key:
      type: "String"
      value: ""
      default: ""
      flags: ["editable", "preview"]

    transition:
      type: "Container"
      flags: ["preview"]
      children:
        type:
          type: "Dropdown"
          value: "None"
          default: "None"
          options:
            - "None"
            - "fade_out"
          flags: ["editable", "preview"]

        speed:
          type: "Int"
          value: 500
          default: 500
          flags: ["editable", "preview"]

    post_wait:
      type: "Dropdown"
      value: "no_wait"
      default: "no_wait"
      options:
        - "no_wait"
        - "wait_for_input"
        - "wait_until_complete"
      flags: ["editable", "preview"]

# Interactables

create_button:
  display_name: "Create Button"
  requirements:
    key:
      type: "String"
      value: ""
      default: ""
      flags: ["editable", "preview"]

    position:
      type: "Vector2"
      value: [ 0.5, 0.5 ]
      default: [ 0.5, 0.5 ]
      flags: ["editable", "preview"]

    center_align:
      type: "Bool"
      value: True
      default: True
      flags: ["editable"]

    sprite:
      type: "Asset_Image"
      value: "HBEngine/Content/Sprites/Interface/Buttons/Menu_Button_Normal.png"
      default: "HBEngine/Content/Sprites/Interface/Buttons/Menu_Button_Normal.png"
      global: ["Button", "sprite"]
      flags: ["editable", "preview"]

    sprite_hover:
      type: "Asset_Image"
      value: "HBEngine/Content/Sprites/Interface/Buttons/Menu_Button_Hover.png"
      default: "HBEngine/Content/Sprites/Interface/Buttons/Menu_Button_Hover.png"
      global: ["Button", "sprite_hover"]
      flags: ["editable"]

    sprite_clicked:
      type: "Asset_Image"
      value: "HBEngine/Content/Sprites/Interface/Buttons/Menu_Button_Clicked.png"
      default: "HBEngine/Content/Sprites/Interface/Buttons/Menu_Button_Clicked.png"
      global: ["Button", "sprite_clicked"]
      flags: ["editable"]

    z_order:
      type: "Int"
      value: 10001
      default: 10001
      global: ["Button", "z_order"]
      flags: ["editable"]

    flip:
      type: "Bool"
      value: False
      default: False
      flags: ["editable", "preview"]

    button_text:
      type: "Container"
      flags: ["editable", "preview"]
      children:
        position:
          type: "Vector2"
          value: [ 0.5, 0.5 ]
          default: [ 0.5, 0.5 ]
          flags: ["editable", "preview"]

        center_align:
          type: "Bool"
          value: True
          default: True
          flags: ["editable"]

        text:
          type: "String"
          value: "Default"
          default: "Default"
          flags: ["editable", "preview"]

        text_size:
          type: "Int"
          value: 24
          default: 24
          global: ["Text", "size"]
          flags: ["editable"]

        text_color:
          type: "Color"
          value: [ 255, 255, 255 ]
          default: [ 255, 255, 255 ]
          global: ["Text", "color"]
          flags: ["editable"]

        text_color_hover:
          type: "Color"
          value: [ 255, 255, 255 ]
          default: [ 255, 255, 255 ]
          global: ["Text", "color"]
          flags: ["editable"]

        text_color_clicked:
          type: "Color"
          value: [ 255, 255, 255 ]
          default: [ 255, 255, 255 ]
          global: ["Text", "color"]
          flags: ["editable"]

        font:
          type: "Asset_Font"
          value: "None"
          default: "None"
          global: ["Button", "font"]
          flags: ["editable"]

        z_order: # Button text generate it's z_order based on the parent's. However, the param is still needed
          type: "Int"
          value: 10002
          default: 10002

    events:
      type: "Array"
      flags: ["editable", "no_exclusion"]
      template:
        event:
          type: "Array_Element"
          flags: ["editable"]
          children:
            action:
              type: "Event"
              value: "None"
              default: "None"
              options:
                - "None"
                - "load_scene"
                - "quit_game"
                - "scene_fade_out"
                - "scene_fade_in"
                - "play_sfx"
              flags: ["editable"]

# Dialogue

create_dialogue_interface:
  display_name: "Create Dialogue Interface"
  requirements:
    key:
      type: "String"
      value: "DialogueFrame"
      default: "DialogueFrame"

    sprite:
      type: "Asset_Image"
      value: "None"
      default: "None"
      global: ["Dialogue", "dialogue_frame_sprite"]
      flags: ["editable", "preview"]

    position:
      type: "Vector2"
      value: [0,0]
      default: [0,0]
      global: ["Dialogue", "dialogue_frame_position"]
      flags: ["editable", "preview"]

    center_align:
      type: "Bool"
      value: True
      default: True
      global: ["Dialogue", "dialogue_frame_center_align"]
      flags: ["editable", "preview"]

    z_order:
      type: "Int"
      value: 9999
      default: 9999
      global: ["Dialogue", "dialogue_frame_z_order"]

    post_wait:
      type: "Dropdown"
      value: "no_wait"
      default: "no_wait"
      options:
        - "no_wait"
        - "wait_for_input"
        - "wait_until_complete"
      flags: ["editable", "preview"]

dialogue:
  display_name: "Dialogue"
  requirements:
    speaker:
      type: "Container"
      flags: ["editable", "preview"]
      children:
        key:
          type: "String"
          value: "SpeakerText"
          default: "SpeakerText"

        position:
          type: "Vector2"
          value: [0,0]
          default: [0,0]
          global: ["Dialogue", "speaker_text_position"]
          flags: ["editable"]

        center_align:
          type: "Bool"
          value: True
          default: True
          global: ["Dialogue", "speaker_text_center_align"]
          flags: ["editable"]

        text:
          type: "String"
          value: ""
          default: ""
          flags: ["editable", "preview"]

        text_size:
          type: "Int"
          value: 24
          default: 24
          global: ["Dialogue", "speaker_text_size"]
          flags: ["editable"]

        text_color:
          type: "Color"
          value: [255, 255, 255]
          default: [255, 255, 255]
          global: ["Dialogue", "speaker_text_color"]
          flags: ["editable"]

        font:
          type: "Asset_Font"
          value: "None"
          default: "None"
          global: ["Dialogue", "speaker_text_font"]
          flags: ["editable"]

        z_order:
          type: "Int"
          value: 0
          default: 0
          global: ["Dialogue", "speaker_text_z_order"]

        transition:
          type: "Container"
          flags: ["editable"]
          children:
            type:
              type: "Dropdown"
              value: "None"
              default: "None"
              global: [ "Dialogue", "transition_type" ]
              options:
                - "fade_in"
                - "None"
              flags: ["editable"]

            speed:
              type: "Int"
              value: 500
              default: 500
              global: [ "Dialogue", "transition_speed" ]
              flags: ["editable"]

        wrap_bounds:
          type: "Vector2"
          value: [ 0.2,0.2 ]
          default: [ 0.2,0.2 ]
          global: [ "Dialogue", "speaker_text_wrap_bounds" ]

    dialogue:
      type: "Container"
      flags: ["editable", "preview"]
      children:
        key:
          type: "String"
          value: "DialogueText"
          default: "DialogueText"

        position:
          type: "Vector2"
          value: [0,0]
          default: [0,0]
          global: ["Dialogue", "dialogue_text_position"]
          flags: ["editable"]

        center_align:
          type: "Bool"
          value: True
          default: True
          global: ["Dialogue", "dialogue_text_center_align"]
          flags: ["editable"]

        text:
          type: "Paragraph"
          value: "Default"
          default: "Default"
          flags: ["editable", "preview"]

        text_size:
          type: "Int"
          value: 24
          default: 24
          global: ["Dialogue", "dialogue_text_size"]
          flags: ["editable"]

        text_color:
          type: "Color"
          value: [255, 255, 255]
          default: [255, 255, 255]
          global: ["Dialogue", "dialogue_text_color"]
          flags: ["editable"]

        font:
          type: "Asset_Font"
          value: "None"
          default: "None"
          global: ["Dialogue", "dialogue_text_font"]
          flags: ["editable"]

        z_order:
          type: "Int"
          value: 0
          default: 0
          global: ["Dialogue", "dialogue_text_z_order"]

        transition:
          type: "Container"
          flags: ["editable"]
          children:
            type:
              type: "Dropdown"
              value: "fade_in"
              default: "fade_in"
              global: ["Dialogue", "transition_type"]
              options:
                - "fade_in"
                - "None"
              flags: ["editable"]

            speed:
              type: "Int"
              value: 1000
              default: 1000
              global: ["Dialogue", "transition_speed"]
              flags: ["editable"]

        wrap_bounds:
          type: "Vector2"
          value: [ 0.8,0.16 ]
          default: [ 0.8,0.16 ]
          global: [ "Dialogue", "dialogue_text_wrap_bounds" ]

    post_wait:
      type: "String"
      value: "wait_for_input"
      default: "wait_for_input"


choice:
  display_name: "Choice"
  requirements:
    choices:
      type: "Array"
      flags: ["editable", "preview"]
      template:
        choice:
          type: "Array_Element"
          flags: ["editable", "preview"]
          children:
            branch:
              type: "String"
              value: ""
              default: ""
              flags: ["editable", "preview"]

            position:
              type: "Vector2"
              value: [ 0.5, 0.5 ]
              default: [ 0.5, 0.5 ]
              flags: ["editable", "preview"]

            center_align:
              type: "Bool"
              value: True
              default: True

            sprite:
              type: "Asset_Image"
              value: "HBEngine/Content/Sprites/Placeholder.png"
              default: "HBEngine/Content/Sprites/Placeholder.png"
              global: ["Dialogue", "choice_button_sprite"]
              flags: ["editable", "preview"]

            sprite_hover:
              type: "Asset_Image"
              value: "HBEngine/Content/Sprites/Placeholder.png"
              default: "HBEngine/Content/Sprites/Placeholder.png"
              global: [ "Dialogue", "choice_button_sprite_hover" ]
              flags: ["editable"]

            sprite_clicked:
              type: "Asset_Image"
              value: "HBEngine/Content/Sprites/Placeholder.png"
              default: "HBEngine/Content/Sprites/Placeholder.png"
              global: [ "Dialogue", "choice_button_sprite_clicked" ]
              flags: ["editable"]

            z_order:
              type: "Int"
              value: 10001
              default: 10001
              global: ["Dialogue", "choice_button_text_size"]

            button_text:
              type: "Container"
              flags: ["editable", "preview"]
              children:
                position:
                  type: "Vector2"
                  value: [ 0.5, 0.5 ]
                  default: [ 0.5, 0.5 ]
                  flags: ["editable"]

                center_align:
                  type: "Bool"
                  value: True
                  default: True
                  flags: ["editable"]

                text:
                  type: "String"
                  value: "Default"
                  default: "Default"
                  flags: ["editable", "preview"]

                text_size:
                  type: "Int"
                  value: 24
                  default: 24
                  global: ["Dialogue", "choice_button_text_size"]
                  flags: ["editable"]

                text_color:
                  type: "Color"
                  value: [ 255, 255, 255 ]
                  default: [ 255, 255, 255 ]
                  global: ["Dialogue", "choice_button_text_color"]
                  flags: ["editable"]

                text_color_hover:
                  type: "Color"
                  value: [ 255, 255, 255 ]
                  default: [ 255, 255, 255 ]
                  global: [ "Dialogue", "choice_button_text_color_hover" ]
                  flags: ["editable"]

                text_color_clicked:
                  type: "Color"
                  value: [ 255, 255, 255 ]
                  default: [ 255, 255, 255 ]
                  global: [ "Dialogue", "choice_button_text_color_clicked" ]
                  flags: ["editable"]

                font:
                  type: "Asset_Font"
                  value: "HBEngine/Content/Fonts/Comfortaa/Comfortaa-Regular.ttf"
                  default: "HBEngine/Content/Fonts/Comfortaa/Comfortaa-Regular.ttf"
                  global: ["Dialogue", "choice_button_font"]
                  flags: ["editable"]

                z_order: # Button text generate it's  z_order based on the parent's. However, the param is still needed
                  type: "Int"
                  value: 10002
                  default: 10002

# Scene

load_scene:
  display_name: "Load Scene"
  requirements:
    scene_file:
      type: "Asset_Scene"
      default: ""
      value: ""
      flags: ["editable", "preview"]

scene_fade_in:
  display_name: "Scene Fade In"
  requirements:
    color:
      type: "Dropdown"
      value: "black"
      default: "black"
      options:
        - "black"
        - "white"
      flags: ["editable", "preview"]

    speed:
      type: "Int"
      value: 300
      default: 300
      flags: ["editable", "preview"]

    post_wait:
      type: "Dropdown"
      value: "wait_until_complete"
      default: "wait_until_complete"
      options:
        - "no_wait"
        - "wait_until_complete"
      flags: [ "editable" ]

scene_fade_out:
  display_name: "Scene Fade Out"
  requirements:
    color:
      type: "Dropdown"
      value: "black"
      default: "black"
      options:
        - "black"
        - "white"
      flags: ["editable", "preview"]

    speed:
      type: "Int"
      value: 300
      default: 300
      flags: ["editable", "preview"]

    post_wait:
      type: "Dropdown"
      value: "wait_until_complete"
      default: "wait_until_complete"
      options:
        - "no_wait"
        - "wait_until_complete"
      flags: [ "editable" ]


play_sfx:
  display_name: "Play SFX"
  requirements:
    key:
      type: "String"
      value: "SFX"
      default: "SFX"
      flags: ["editable", "preview"]

    sound:
      type: "Asset_Sound"
      value: ""
      default: ""
      flags: ["editable", "preview"]

    volume:
      type: "Float"
      value: 1.0
      default: 1.0
      flags: ["editable", "preview"]

    post_wait:
      type: "Dropdown"
      value: "wait_until_complete"
      default: "wait_until_complete"
      options:
        - "no_wait"
        - "wait_until_complete"
      flags: ["editable", "preview", "no_exclusion"]

# Play Music
play_music:
  display_name: "Play Music"
  requirements:
    music:
      type: "Asset_Sound"
      value: ""
      default: ""
      flags: ["editable", "preview"]

    volume:
      type: "Float"
      value: 1.0
      default: 1.0
      flags: ["editable", "preview"]

    loop:
      type: "Bool"
      value: False
      default: False
      flags: ["editable", "preview"]

    post_wait:
      type: "Dropdown"
      value: "no_wait"
      default: "no_wait"
      options:
        - "no_wait"
        - "wait_until_complete"
      flags: ["editable", "preview"]

stop_sfx:
  display_name: "Stop SFX"
  requirements:
    key:
      type: "String"
      value: "SFX"
      default: "SFX"
      flags: ["editable", "preview"]

stop_music:
  display_name: "Stop Music"
  requirements:
    key:
      type: "String"
      value: ""
      default: ""
      flags: ["editable", "preview"]

# Utilities

quit_game:
  display_name: "Quit Game"
  requirements: {}
